<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>blog.mo-fu.org - hetemlレンタルサーバーでgitを使う</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css">
    <link href="/stylesheets/normalize.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/blog.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/blog-old-ie.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/syntax.css" rel="stylesheet" type="text/css" />
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  </head>
  <body>
    
    <div id="main" role="main">
      <h2 id="gitの初期設定">gitの初期設定</h2>

<p>ターミナルを使ってsshでログインします。</p>
<pre class="highlight plaintext">ssh username@ssh***.heteml.jp -p 2222
</pre>

<p>2013/12/24現在gitのバージョンは1.7.3.4でした。</p>
<pre class="highlight plaintext">-bash-3.00$ pwd
/home/sites/heteml/users***/u/s/e/username

-bash-3.00$ git --version
git version 1.7.3.4
</pre>

<p>ログイン後、ユーザー名とメールアドレス等の設定をします。</p>
<pre class="highlight plaintext"># ユーザー名とメールアドレスの設定
git config --global user.email "username@example.com"  
git config --global user.name "username"

# 端末に色つきの文字を出力する
git config --global color.ui auto
</pre>

<p>設定を確認します。</p>
<pre class="highlight plaintext">git config --global --list
</pre>

<h2 id="heteml上にリポジトリを作成する">heteml上にリポジトリを作成する</h2>

<p>ディレクトリを作成して、移動します。</p>
<pre class="highlight plaintext">mkdir myproject
cd myproject
</pre>

<p>git init コマンドでリポジトリを作成します。</p>
<pre class="highlight plaintext">git init
</pre>
<pre class="highlight plaintext">Initialized empty Git repository in /home/sites/heteml/users***/u/s/e/username/myproject/.git/
</pre>

<p>index.html を作成します。</p>
<pre class="highlight plaintext">touch index.html
</pre>

<p>git status コマンドで変更内容を確認します。</p>
<pre class="highlight plaintext">git status
</pre>

<p>コマンドを実行すると、以下のように表示されます。</p>
<pre class="highlight plaintext"># On branch master
#
# Initial commit
#
# Untracked files:
#   (use "git add &lt;file&gt;..." to include in what will be committed)
#
#   index.html
nothing added to commit but untracked files present (use "git add" to track)
</pre>

<p>git add コマンドを実行します。</p>
<pre class="highlight plaintext">git add index.html
</pre>

<p>git add した後に git status コマンドを実行すると、以下のように表示されます。</p>
<pre class="highlight plaintext"># On branch master
#
# Initial commit
#
# Changes to be committed:
#   (use "git rm --cached &lt;file&gt;..." to unstage)
#
#   new file:   index.html
#

</pre>

<p>git commit コマンドでコミットします。</p>
<pre class="highlight plaintext">git commit -m 'first commit'
</pre>

<p>tig や git log で確認するとコミット履歴を見ることが出来ます。</p>

<h2 id="hetemlにリポジトリを作成してローカルpcからpushする">hetemlにリポジトリを作成してローカルPCからpushする</h2>

<p>heteml に sshログインして、ディレクトリを作成します。</p>
<pre class="highlight plaintext">mkdir repos
cd repos
mkdir myproject.git
cd myproject.git
</pre>

<p>git init コマンドでリポジトリを作成します。
この時に <code>--bare</code> オプションを指定すると変更のみを管理するリポジトリを作成することができます。
また、 <code>--shared</code> オプションを指定すると共同リポジトリとして作成することが出来ます。</p>
<pre class="highlight plaintext">git init --bare --shared
</pre>

<p>ローカルPCでmyprojectのリポジトリを作成します。</p>
<pre class="highlight plaintext">mkdir myproject
cd myproject
git init
</pre>

<p>hetemlに作成したリポジトリのURLを git remote コマンドで登録します。</p>
<pre class="highlight plaintext">git remote add origin ssh://username@ssh***.heteml.jp:2222/home/sites/heteml/users***/u/s/e/username/repos/myproject.git
</pre>

<p>git remote -v で登録情報を確認できます。</p>
<pre class="highlight plaintext">git remote -v
</pre>

<p>ファイルを作成します。</p>
<pre class="highlight plaintext">touch a.txt
</pre>

<p>add して commit します。</p>
<pre class="highlight plaintext">git add .
git commit -m 'inital import'
</pre>

<p>hetemlのリポジトリにpushして変更内容を反映させます。</p>
<pre class="highlight plaintext">git push origin master
</pre>

<p>sshログインのためのパスワードを聞かれるので、入力して下さい。</p>
<pre class="highlight plaintext">-----------------------------------------------------
--***-------------------------------------------***--
--***---------------***-------------------------***--
--***---------------******----------------------***--
--********-********-******-********-***********-***--
--********-***--***-***----***--***-***********-***--
--***--***-********-***----********-***-***-***-***--
--***--***-***------******-***------***-***-***-***--
--***--***-********-******-********-***-***-***-***--
-----------------------------------------------------

username@ssh***.heteml.jp's password:
</pre>

<p>パスワードを入力すると、以下のようにhetemlのリポジトリに変更内容が反映されます。</p>
<pre class="highlight plaintext">Counting objects: 3, done.
Writing objects: 100% (3/3), 215 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To ssh://kuro96@ssh160.heteml.jp:2222/home/sites/heteml/users160/k/u/r/kuro96/repos/myproject.git
 * [new branch]      master -&gt; master
</pre>

<p>hetemlにsshログイン後、myproject.git に移動して、<code>git log -p</code> コマンドで変更内容を確認します。</p>
<pre class="highlight plaintext">cd repos/myproject.git
git log -p
</pre>

<p>以下のように変更が反映されていることを確認できます。</p>
<pre class="highlight plaintext">commit 522111a8845c66aebb95de63bb6a65d405d33c2c
Author: kurotaky &lt;username@example.com&gt;
Date:   Tue Dec 24 09:43:43 2013 +0900

    inital import

diff --git a/a.txt b/a.txt
new file mode 100644
index 0000000..e69de29
</pre>

<h2 id="参考url">参考URL</h2>

<ul>
<li><a href="http://d.hatena.ne.jp/bannyan/20100308/1268066849">http://d.hatena.ne.jp/bannyan/20100308/1268066849</a></li>
<li><a href="http://git-scm.com/book/ja/Git-%E3%81%AE%E5%9F%BA%E6%9C%AC-Git-%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%81%AE%E5%8F%96%E5%BE%97">http://git-scm.com/book/ja/Git-%E3%81%AE%E5%9F%BA%E6%9C%AC-Git-%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%81%AE%E5%8F%96%E5%BE%97</a></li>
</ul>

<h2 id="参考文献">参考文献</h2>

<ul>
<li><a href="http://www.amazon.co.jp/dp/4274068641">http://www.amazon.co.jp/dp/4274068641</a></li>
</ul>

    </div>
    
    <aside>
      <h2>Recent Articles</h2>
      <ol>
          <li><a href="/2014/01/09/install-ggplot2.html">ggplot2をインストールして使うまで</a> <span>Jan  9</span></li>
          <li><a href="/2014/01/05/backup-to-amazon-s3.html">SqaleからAmazonS3にDBをバックアップする</a> <span>Jan  5</span></li>
          <li><a href="/2013/12/24/how-to-use-git-on-heteml.html">hetemlレンタルサーバーでgitを使う</a> <span>Dec 24</span></li>
          <li><a href="/2013/11/18/about-testing-for-private-method.html">プライベートメソッドのテストについて</a> <span>Nov 18</span></li>
          <li><a href="/2013/09/29/install-mac-vim74.html">install-mac-vim74</a> <span>Sep 29</span></li>
          <li><a href="/2013/09/15/i-change-my-blog-name.html">Change my blog's url</a> <span>Sep 15</span></li>
          <li><a href="/2012/12/24/fuelphp-advent-calendar-2012.html">FuelPHPで簡単なWebアプリケーションを作ってみる</a> <span>Dec 24</span></li>
          <li><a href="/2012/11/19/startup-rails4.html">rails4(edge)を動かしてみた。</a> <span>Nov 19</span></li>
          <li><a href="/2012/11/16/ppb-lightningtalk-2.html">社内LT大会第二回</a> <span>Nov 16</span></li>
          <li><a href="/2012/11/01/nebel-siteでブログはじめました.html">nebelでブログはじめました</a> <span>Nov  1</span></li>
      </ol>

      <h2>Tags</h2>
      <ol>
          <li><a href="/tags/rails4.html">rails4 (1)</a></li>
          <li><a href="/tags/fuelphp.html">fuelphp (1)</a></li>
          <li><a href="/tags/php.html">php (1)</a></li>
          <li><a href="/tags/vim.html">vim (1)</a></li>
          <li><a href="/tags/testing.html">testing (1)</a></li>
          <li><a href="/tags/git.html">git (1)</a></li>
          <li><a href="/tags/heteml.html">heteml (1)</a></li>
          <li><a href="/tags/s3.html">s3 (1)</a></li>
          <li><a href="/tags/sqale.html">sqale (1)</a></li>
          <li><a href="/tags/r.html">R (1)</a></li>
          <li><a href="/tags/ggplot2.html">ggplot2 (1)</a></li>
      </ol>

      <h2>By Year</h2>
      <ol>
          <li><a href="/2014.html">2014 (2)</a></li>
          <li><a href="/2013.html">2013 (4)</a></li>
          <li><a href="/2012.html">2012 (4)</a></li>
      </ol>
    </aside>
  </body>
</html>
